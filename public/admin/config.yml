backend:
  name: netlify-identity
  branch: main

media_folder: "public/images"
public_folder: "/images"

collections:
  # 🏠 SOBER LIVING FACILITIES
  - name: "facilities"
    label: "🏠 Sober Living Facilities"
    folder: "src/content/facilities"
    create: true
    slug: "{{slug}}"
    editor:
      preview: false
    fields:
      - label: "🏠 Facility Name"
        name: "facilityName"
        widget: "string"
        required: true
        hint: "Full name of the sober living facility"
        
      - label: "🔗 URL Slug"
        name: "slug"
        widget: "string"
        required: true
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', 'Must be lowercase letters, numbers, and hyphens only']
        hint: "URL-friendly version (e.g., main-house, transitional-living)"
        
      - label: "💰 Monthly Rent"
        name: "monthlyRent"
        widget: "string"
        required: true
        hint: "e.g., $800, $750-900"
        
      - label: "👥 Bed Capacity"
        name: "capacity"
        widget: "number"
        required: true
        min: 1
        max: 50
        
      - label: "📍 Location"
        name: "location"
        widget: "string"
        required: true
        hint: "City, State (e.g., Tallahassee, FL)"
        
      - label: "🏡 Full Address"
        name: "address"
        widget: "string"
        required: true
        hint: "Complete street address"
        
      - label: "📋 Programs Offered"
        name: "programs"
        widget: "list"
        required: true
        default: ["Standard Sober Living"]
        hint: "Types of recovery programs available"
        
      - label: "⭐ Amenities & Features"
        name: "amenities"
        widget: "list"
        required: true
        default: ["24/7 House Manager", "Weekly House Meetings"]
        hint: "Key features and amenities"
        
      - label: "📸 Facility Images"
        name: "images"
        widget: "list"
        required: false
        field: {label: "Image", name: "image", widget: "image"}
        hint: "Photos of the facility (exterior, rooms, common areas)"
        
      - label: "📝 Description"
        name: "description"
        widget: "text"
        required: true
        hint: "Detailed description of the facility and programs"
        
      - label: "🚪 Availability Status"
        name: "availability"
        widget: "select"
        required: true
        options:
          - {label: "✅ Accepting Residents", value: "accepting"}
          - {label: "📝 Waitlist Only", value: "waitlist"}  
          - {label: "❌ Currently Full", value: "full"}
        default: "accepting"
        
      - label: "⭐ Featured Facility"
        name: "featured"
        widget: "boolean"
        default: false
        hint: "Display prominently on homepage"
        
      - label: "📅 Created Date"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD"
        default: ""
        
      - label: "🔍 SEO Title"
        name: "metaTitle"
        widget: "string"
        required: false
        hint: "Custom page title for search engines"
        
      - label: "🔍 SEO Description" 
        name: "metaDescription"
        widget: "text"
        required: false
        hint: "Custom description for search engines"

  # 🎯 ADMISSION LEADS
  - name: "leads"
    label: "🎯 Admission Leads"
    folder: "src/content/leads"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{firstName}}-{{lastName}}"
    editor:
      preview: false
    fields:
      # PERSONAL INFORMATION
      - label: "👤 First Name"
        name: "firstName"
        widget: "string"
        required: true
        
      - label: "👤 Last Name"
        name: "lastName"
        widget: "string"
        required: true
        
      - label: "📅 Date of Birth"
        name: "dateOfBirth"
        widget: "date"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "⚧ Gender"
        name: "gender"
        widget: "select"
        required: true
        options:
          - {label: "Male", value: "male"}
          - {label: "Female", value: "female"}
          - {label: "Non-binary", value: "non-binary"}
          - {label: "Prefer not to say", value: "prefer-not-to-say"}
        
      # CONTACT INFORMATION
      - label: "📞 Phone Number"
        name: "phone"
        widget: "string"
        required: true
        
      - label: "📧 Email Address"
        name: "email"
        widget: "string"
        required: true
        
      - label: "🏠 Current Address"
        name: "address"
        widget: "string"
        required: false
        
      - label: "🏙️ City"
        name: "city"
        widget: "string"
        required: false
        
      - label: "📍 State"
        name: "state"
        widget: "string"
        required: false
        
      - label: "📮 ZIP Code"
        name: "zipCode"
        widget: "string"
        required: false
        
      # EMERGENCY CONTACT
      - label: "🚨 Emergency Contact Name"
        name: "emergencyContactName"
        widget: "string"
        required: true
        
      - label: "📞 Emergency Contact Phone"
        name: "emergencyContactPhone"
        widget: "string"
        required: true
        
      - label: "👨‍👩‍👧‍👦 Relationship to Emergency Contact"
        name: "emergencyContactRelationship"
        widget: "string"
        required: true
        
      # INSURANCE & PAYMENT
      - label: "🏥 Insurance Provider"
        name: "insuranceProvider"
        widget: "string"
        required: false
        
      - label: "🆔 Insurance ID"
        name: "insuranceID"
        widget: "string"
        required: false
        
      - label: "💳 Payment Method"
        name: "paymentMethod"
        widget: "select"
        required: true
        options:
          - {label: "🏥 Insurance", value: "insurance"}
          - {label: "💰 Self Pay", value: "self-pay"}
          - {label: "👨‍👩‍👧‍👦 Family Pays", value: "family"}
          - {label: "📋 Other", value: "other"}
        default: "self-pay"
        
      # TREATMENT HISTORY
      - label: "💊 Previous Treatment History"
        name: "previousTreatment"
        widget: "text"
        required: false
        hint: "Brief history of prior treatment/recovery attempts"
        
      - label: "📅 Current Sobriety Date"
        name: "currentSobrietyDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        hint: "Date of last substance use"
        
      - label: "🚫 Substances Used"
        name: "substancesUsed"
        widget: "list"
        required: false
        hint: "List primary substances of concern"
        
      - label: "📅 Last Use Date"
        name: "lastUseDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "🏥 Detox Completed?"
        name: "detoxCompleted"
        widget: "boolean"
        default: false
        
      - label: "🏥 Detox Location"
        name: "detoxLocation"
        widget: "string"
        required: false
        hint: "Where detox was completed"
        
      # CURRENT SITUATION
      - label: "💬 Inquiry Message"
        name: "message"
        widget: "text"
        required: true
        
      - label: "🏠 Current Living Situation"
        name: "currentLiving"
        widget: "string"
        required: false
        hint: "Where they're currently staying"
        
      - label: "🚗 Has Transportation"
        name: "transportation"
        widget: "boolean"
        default: false
        
      - label: "💼 Employment Status"
        name: "employment"
        widget: "string"
        required: false
        hint: "Current employment situation"
        
      - label: "⚖️ Legal Issues"
        name: "legalIssues"
        widget: "boolean"
        default: false
        
      - label: "🏥 Medical Issues"
        name: "medicalIssues"
        widget: "string"
        required: false
        hint: "Any medical conditions or medications"
        
      # PREFERENCES
      - label: "🏠 Preferred Facility"
        name: "preferredFacility"
        widget: "string"
        required: false
        hint: "Specific facility they're interested in"
        
      - label: "📋 Preferred Program"
        name: "preferredProgram"
        widget: "select"
        required: false
        options:
          - "Standard Sober Living"
          - "Extended Care Program"
          - "Transitional Living"
          - "Intensive Outpatient"
          - "Court-Ordered Program"
        
      - label: "📅 Preferred Move-in Date"
        name: "moveInDate"
        widget: "date"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "⏰ Expected Length of Stay"
        name: "lengthOfStay"
        widget: "select"
        required: false
        options:
          - "1-3 months"
          - "3-6 months"
          - "6-12 months"
          - "12+ months"
          - "Undetermined"
        
      # CRM TRACKING FIELDS
      - label: "📊 Lead Source"
        name: "source"
        widget: "select"
        required: true
        options:
          - "Website Contact Form"
          - "Phone Call"
          - "Referral - Treatment Center"
          - "Referral - Court System"
          - "Referral - Family/Friend"
          - "Google Search"
          - "Social Media"
          - "Walk-in"
          - "Other"
        default: "Website Contact Form"
        
      - label: "👤 Referred By"
        name: "referredBy"
        widget: "string"
        required: false
        hint: "Name of person/organization who referred them"
        
      - label: "📈 Lead Status"
        name: "status"
        widget: "select"
        required: true
        options:
          - {label: "🆕 New Lead", value: "new"}
          - {label: "📞 Contacted", value: "contacted"}
          - {label: "📅 Tour Scheduled", value: "scheduled"}
          - {label: "✅ Qualified", value: "qualified"}
          - {label: "🏠 Admitted", value: "admitted"}
          - {label: "❌ Declined", value: "declined"}
          - {label: "🔄 Lost/No Response", value: "lost"}
        default: "new"
        
      - label: "🚨 Priority Level"
        name: "priority"
        widget: "select"
        required: true
        options:
          - {label: "🔴 High Priority", value: "high"}
          - {label: "🟡 Medium Priority", value: "medium"}
          - {label: "🟢 Low Priority", value: "low"}
        default: "medium"
        
      - label: "📅 Created Date"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD"
        default: ""
        
      - label: "📞 Last Contact Date"
        name: "lastContactDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "📅 Next Follow-up Date"
        name: "nextFollowUp"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "👨‍💼 Staff Member Assigned"
        name: "staffAssigned"
        widget: "string"
        required: false
        hint: "Which staff member is handling this lead"
        
      # INTERNAL NOTES
      - label: "📝 Public Notes"
        name: "notes"
        widget: "text"
        required: false
        hint: "Notes visible to all staff"
        
      - label: "🔒 Private Notes"
        name: "privateNotes"
        widget: "text"
        required: false
        hint: "Confidential notes for management only"
        
      - label: "📊 Lead Score"
        name: "leadScore"
        widget: "number"
        required: false
        min: 0
        max: 100
        default: 0
        hint: "Qualification score (0-100)"
        
      - label: "📈 Conversion Probability"
        name: "conversionProbability"
        widget: "number"
        required: false
        min: 0
        max: 100
        default: 50
        hint: "Likelihood to convert (%)"

  # 👥 CURRENT RESIDENTS
  - name: "residents"
    label: "👥 Current Residents"
    folder: "src/content/residents"
    create: true
    slug: "{{firstName}}-{{lastName}}-{{year}}-{{month}}-{{day}}"
    editor:
      preview: false
    fields:
      # PERSONAL INFORMATION
      - label: "👤 First Name"
        name: "firstName"
        widget: "string"
        required: true
        
      - label: "👤 Last Name"
        name: "lastName"
        widget: "string"
        required: true
        
      - label: "📅 Date of Birth"
        name: "dateOfBirth"
        widget: "date"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "🆔 SSN (Last 4 digits)"
        name: "ssn"
        widget: "string"
        required: false
        hint: "For identification purposes only"
        
      - label: "📸 Resident Photo"
        name: "photo"
        widget: "image"
        required: false
        
      - label: "⚧ Gender"
        name: "gender"
        widget: "select"
        required: true
        options:
          - {label: "Male", value: "male"}
          - {label: "Female", value: "female"}
          - {label: "Other", value: "other"}
        
      # CONTACT INFORMATION
      - label: "📞 Phone Number"
        name: "phone"
        widget: "string"
        required: true
        
      - label: "📧 Email Address"
        name: "email"
        widget: "string"
        required: true
        
      # ADMISSION INFORMATION
      - label: "📅 Admission Date"
        name: "admissionDate"
        widget: "date"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "🏠 Facility Assigned"
        name: "facilityAssigned"
        widget: "string"
        required: true
        hint: "Which facility they're residing in"
        
      - label: "🛏️ Bed Number"
        name: "bedNumber"
        widget: "string"
        required: false
        
      - label: "🚪 Room Number"
        name: "roomNumber"
        widget: "string"
        required: false
        
      # RECOVERY INFORMATION
      - label: "📅 Sobriety Date"
        name: "sobrietyDate"
        widget: "date"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "🚫 Substances of Concern"
        name: "substancesOfConcern"
        widget: "list"
        required: false
        hint: "Primary substances in recovery from"
        
      - label: "💊 Current Medications"
        name: "currentMedications"
        widget: "list"
        required: false
        
      - label: "🤧 Allergies"
        name: "allergies"
        widget: "list"
        required: false
        
      # PROGRAM INFORMATION
      - label: "📋 Program Type"
        name: "programType"
        widget: "select"
        required: true
        options:
          - {label: "Standard Sober Living", value: "standard"}
          - {label: "Extended Care", value: "extended"}
          - {label: "Transitional Living", value: "transitional"}
          - {label: "Specialized Program", value: "specialized"}
        
      - label: "📊 Current Phase"
        name: "phase"
        widget: "select"
        required: true
        options:
          - {label: "Phase 1 - Orientation", value: "phase-1"}
          - {label: "Phase 2 - Integration", value: "phase-2"}
          - {label: "Phase 3 - Independence", value: "phase-3"}
          - {label: "Graduated", value: "graduated"}
        default: "phase-1"
        
      - label: "⭐ Current Privileges"
        name: "privileges"
        widget: "list"
        required: false
        hint: "Special privileges earned (overnight passes, etc.)"
        
      - label: "🚫 Current Restrictions"
        name: "restrictions"
        widget: "list"
        required: false
        hint: "Any current restrictions or limitations"
        
      # FINANCIAL INFORMATION
      - label: "💰 Monthly Rent"
        name: "monthlyRent"
        widget: "number"
        required: true
        
      - label: "🏦 Security Deposit"
        name: "securityDeposit"
        widget: "number"
        required: true
        
      - label: "💳 Payment Method"
        name: "paymentMethod"
        widget: "select"
        required: true
        options:
          - {label: "Insurance", value: "insurance"}
          - {label: "Self Pay", value: "self-pay"}
          - {label: "Family", value: "family"}
          - {label: "Other", value: "other"}
        
      - label: "📅 Payment Schedule"
        name: "paymentSchedule"
        widget: "select"
        required: true
        options:
          - {label: "Weekly", value: "weekly"}
          - {label: "Bi-weekly", value: "bi-weekly"}
          - {label: "Monthly", value: "monthly"}
        
      - label: "💳 Balance Owed"
        name: "balanceOwed"
        widget: "number"
        default: 0
        
      # STATUS
      - label: "📊 Current Status"
        name: "status"
        widget: "select"
        required: true
        options:
          - {label: "✅ Active", value: "active"}
          - {label: "📤 Discharged", value: "discharged"}
          - {label: "⚠️ Violation", value: "violated"}
          - {label: "🔄 Transferred", value: "transferred"}
          - {label: "🏥 Medical Leave", value: "medical-leave"}
        default: "active"
        
      # METADATA
      - label: "📅 Created Date"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD"
        default: ""
        
      - label: "📅 Last Updated"
        name: "updatedAt"
        widget: "datetime"
        format: "YYYY-MM-DD"
        default: ""
        
      - label: "👨‍💼 Case Manager"
        name: "caseManager"
        widget: "string"
        required: false
        
      - label: "📝 General Notes"
        name: "notes"
        widget: "text"
        required: false

  # 👨‍💼 STAFF MANAGEMENT
  - name: "staff"
    label: "👨‍💼 Staff Management"
    folder: "src/content/staff"
    create: true
    slug: "{{firstName}}-{{lastName}}"
    editor:
      preview: false
    fields:
      # PERSONAL INFORMATION
      - label: "👤 First Name"
        name: "firstName"
        widget: "string"
        required: true
        
      - label: "👤 Last Name"
        name: "lastName"
        widget: "string"
        required: true
        
      - label: "📧 Email Address"
        name: "email"
        widget: "string"
        required: true
        
      - label: "📞 Phone Number"
        name: "phone"
        widget: "string"
        required: true
        
      # EMPLOYMENT
      - label: "🆔 Employee ID"
        name: "employeeId"
        widget: "string"
        required: true
        
      - label: "👔 Role"
        name: "role"
        widget: "select"
        required: true
        options:
          - {label: "🏠 House Manager", value: "house-manager"}
          - {label: "📋 Case Manager", value: "case-manager"}
          - {label: "🔧 Admin", value: "admin"}
          - {label: "🏥 Clinical Staff", value: "clinical"}
          - {label: "🔧 Maintenance", value: "maintenance"}
          - {label: "👑 Director", value: "director"}
        
      - label: "🏢 Department"
        name: "department"
        widget: "string"
        required: true
        
      - label: "📅 Hire Date"
        name: "hireDate"
        widget: "date"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "📊 Employment Status"
        name: "status"
        widget: "select"
        required: true
        options:
          - {label: "✅ Active", value: "active"}
          - {label: "❌ Inactive", value: "inactive"}
          - {label: "🚪 Terminated", value: "terminated"}
          - {label: "🏖️ On Leave", value: "on-leave"}
        default: "active"
        
      # ACCESS & PERMISSIONS
      - label: "🏠 Facilities Access"
        name: "facilities"
        widget: "list"
        required: false
        hint: "Which facilities this staff member can access"
        
      - label: "🔐 Access Level"
        name: "accessLevel"
        widget: "select"
        required: true
        options:
          - {label: "Basic", value: "basic"}
          - {label: "Standard", value: "standard"}
          - {label: "Advanced", value: "advanced"}
          - {label: "Admin", value: "admin"}
        default: "basic"
        
      # QUALIFICATIONS
      - label: "📜 Certifications"
        name: "certifications"
        widget: "list"
        required: false
        hint: "Professional certifications and licenses"
        
      - label: "📅 Background Check Date"
        name: "backgroundCheckDate"
        widget: "date"
        format: "YYYY-MM-DD"
        required: false
        
      # METADATA
      - label: "📅 Created Date"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD"
        default: ""
        
      - label: "📝 Notes"
        name: "notes"
        widget: "text"
        required: false
backend:
  name: netlify-identity-widget
  branch: main

media_folder: "public/images/facilities"
public_folder: "/images/facilities"

collections:
  # Facility Management
  - name: "facilities"
    label: "ğŸ  Facilities"
    label_singular: "Facility"
    folder: "src/content/facilities"
    create: true
    slug: "{{slug}}"
    extension: "json"
    format: "json"
    summary: "{{facilityName}} â€¢ {{capacity}} beds â€¢ {{availability}}"
    
    fields:
      - label: "ğŸ  Facility Name"
        name: "facilityName"
        widget: "string"
        required: true
        
      - label: "ğŸ”— URL Slug"
        name: "slug"
        widget: "string"
        required: true
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Must be lowercase with hyphens"]
        
      - label: "ğŸ’° Monthly Rent"
        name: "monthlyRent"
        widget: "string"
        required: true
        hint: "e.g., $800"
        
      - label: "ğŸ‘¥ Bed Capacity"
        name: "capacity"
        widget: "number"
        required: true
        min: 1
        max: 20
        
      - label: "ğŸ“ Location"
        name: "location"
        widget: "string"
        required: true
        hint: "City, State"
        
      - label: "ğŸ  Street Address"
        name: "address"
        widget: "string"
        required: true
        
      - label: "ğŸ“‹ Programs Offered"
        name: "programs"
        widget: "list"
        required: true
        default: ["Standard Sober Living", "Extended Care Program"]
        
      - label: "âœ¨ Amenities & Services"
        name: "amenities"
        widget: "list"
        required: true
        default: ["24/7 House Manager", "Weekly House Meetings"]
        
      - label: "ğŸ“¸ Facility Photos"
        name: "images"
        widget: "list"
        field: {label: Image, name: image, widget: image}
        
      - label: "ğŸ“ Description"
        name: "description"
        widget: "text"
        required: true
        
      - label: "ğŸ”„ Availability Status"
        name: "availability"
        widget: "select"
        options: 
          - {label: "âœ… Accepting Residents", value: "accepting"}
          - {label: "â³ Waitlist Only", value: "waitlist"}  
          - {label: "âŒ Currently Full", value: "full"}
        default: "accepting"
        
      - label: "â­ Featured Facility"
        name: "featured"
        widget: "boolean"
        default: false
        
      - label: "ğŸ“… Date Added"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD"
        
      - label: "ğŸ” SEO Page Title"
        name: "metaTitle"
        widget: "string"
        required: false
        hint: "Optional custom page title for search engines"
        
      - label: "ğŸ“„ SEO Description"
        name: "metaDescription"
        widget: "text"
        required: false
        hint: "Optional description for search engines (150-160 characters)"

  # Resident Inquiries & CRM
  - name: "inquiries"
    label: "ğŸ“ Resident Inquiries"
    label_singular: "Inquiry"
    folder: "src/content/inquiries"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{name}}"
    extension: "json"
    format: "json"
    summary: "{{name}} â€¢ {{status}} â€¢ {{createdAt}}"
    sortable_fields: ['createdAt', 'status', 'priority']
    
    view_filters:
      - label: "ğŸ†• New Inquiries"
        field: status
        pattern: "new"
      - label: "ğŸ“ Contacted"
        field: status  
        pattern: "contacted"
      - label: "ğŸ”¥ High Priority"
        field: priority
        pattern: "high"
    
    fields:
      - label: "ğŸ‘¤ Full Name"
        name: "name"
        widget: "string" 
        required: true
        
      - label: "ğŸ“± Phone Number"
        name: "phone"
        widget: "string"
        required: true
        
      - label: "ğŸ“§ Email Address"
        name: "email"
        widget: "string"
        required: true
        
      - label: "ğŸš¨ Emergency Contact"
        name: "emergencyContact"
        widget: "string"
        required: false
        hint: "Name and phone number"
        
      - label: "ğŸ¥ Insurance Provider"
        name: "insuranceProvider"
        widget: "string"
        required: false
        
      - label: "ğŸ’Š Previous Treatment History"
        name: "previousTreatment"
        widget: "text"
        required: false
        hint: "Brief history of prior treatment/recovery attempts"
        
      - label: "ğŸ’¬ Inquiry Message"
        name: "message"
        widget: "text"
        required: true
        
      - label: "ğŸ  Preferred Program"
        name: "preferredProgram"
        widget: "select"
        required: false
        options:
          - "Standard Sober Living"
          - "Extended Care Program"
          - "Transitional Living"
          - "Not Sure Yet"
        default: "Not Sure Yet"
        
      - label: "ğŸ“ How They Found Us"
        name: "source"
        widget: "select"
        options:
          - {label: "ğŸŒ Website", value: "website"}
          - {label: "ğŸ“ Phone Call", value: "phone"}
          - {label: "ğŸ‘¥ Personal Referral", value: "referral"}
          - {label: "ğŸ¥ Treatment Center", value: "treatment-center"}
          - {label: "ğŸ‘¨â€âš•ï¸ Therapist/Counselor", value: "therapist"}
          - {label: "ğŸ‘¨â€ğŸ’¼ Case Manager", value: "case-manager"}
          - {label: "ğŸ” Google Search", value: "google"}
          - {label: "ğŸ“± Social Media", value: "social-media"}
        default: "website"
        
      - label: "ğŸ“Š Inquiry Status"
        name: "status"
        widget: "select"
        options:
          - {label: "ğŸ†• New Inquiry", value: "new"}
          - {label: "ğŸ“ Contacted", value: "contacted"}
          - {label: "ğŸ“… Assessment Scheduled", value: "scheduled"}
          - {label: "âœ… Admitted", value: "admitted"}
          - {label: "âŒ Not Suitable/Declined", value: "declined"}
        default: "new"
        
      - label: "ğŸ”¥ Priority Level"
        name: "priority"
        widget: "select"
        options:
          - {label: "ğŸ”¥ High Priority", value: "high"}
          - {label: "ğŸŸ¡ Medium Priority", value: "medium"}  
          - {label: "â„ï¸ Low Priority", value: "low"}
        default: "medium"
        
      - label: "ğŸ“… Inquiry Date"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm"
        required: true
        
      - label: "ğŸ“ Last Contact Date"
        name: "lastContactDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸ“ Staff Notes"
        name: "notes"
        widget: "text"
        required: false
        hint: "Internal notes about calls, assessments, bed availability, etc."
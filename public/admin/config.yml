backend:
  name: netlify-identity-widget
  branch: main

media_folder: "public/images/facilities"
public_folder: "/images/facilities"

# ğŸ† NEWBRIDGE LIVING - ENTERPRISE SOBER LIVING CRM
# Professional-grade resident management system

collections:
  # ğŸ  FACILITIES MANAGEMENT
  - name: "facilities"
    label: "ğŸ  Facilities"
    label_singular: "Facility"
    folder: "src/content/facilities"
    create: true
    slug: "{{slug}}"
    extension: "json"
    format: "json"
    summary: "{{facilityName}} â€¢ {{capacity}} beds â€¢ {{currentOccupancy}}/{{capacity}} occupied â€¢ {{availability}}"
    sortable_fields: ['facilityName', 'capacity', 'currentOccupancy', 'availability', 'createdAt']
    
    view_filters:
      - label: "ğŸŸ¢ Accepting Residents"
        field: availability
        pattern: "accepting"
      - label: "â­ Featured Facilities"
        field: featured
        pattern: true
      - label: "ğŸ  Men's Facilities"
        field: facilityType
        pattern: "men"
    
    fields:
      - label: "ğŸ  Facility Name"
        name: "facilityName"
        widget: "string"
        required: true
        
      - label: "ğŸ”— URL Slug"
        name: "slug"
        widget: "string"
        required: true
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Must be lowercase with hyphens"]
        
      - label: "ğŸ’° Monthly Rent"
        name: "monthlyRent"
        widget: "string"
        required: true
        hint: "e.g., $800"
        
      - label: "ğŸ‘¥ Bed Capacity"
        name: "capacity"
        widget: "number"
        required: true
        min: 1
        max: 20
        
      - label: "ğŸ›ï¸ Current Occupancy"
        name: "currentOccupancy"
        widget: "number"
        required: true
        default: 0
        min: 0
        
      - label: "ğŸ˜ï¸ Facility Type"
        name: "facilityType"
        widget: "select"
        options:
          - {label: "ğŸ‘¨ Men Only", value: "men"}
          - {label: "ğŸ‘© Women Only", value: "women"}
          - {label: "ğŸ¤ Mixed Gender", value: "mixed"}
        default: "men"
        
      - label: "ğŸ“ Location"
        name: "location"
        widget: "string"
        required: true
        hint: "City, State"
        
      - label: "ğŸ  Street Address"
        name: "address"
        widget: "string"
        required: true
        
      - label: "ğŸ“œ License Number"
        name: "licenseNumber"
        widget: "string"
        required: false
        hint: "State facility license number"
        
      - label: "ğŸ” Last Inspection"
        name: "lastInspection"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸ‘¨â€ğŸ’¼ House Manager"
        name: "houseManager"
        widget: "string"
        required: false
        hint: "Primary house manager name"
        
      - label: "ğŸš¨ Emergency Contact"
        name: "emergencyContact"
        widget: "string"
        required: false
        hint: "Emergency contact phone number"
        
      - label: "ğŸ“… Age Range"
        name: "ageRange"
        widget: "string"
        default: "18+"
        hint: "e.g., 18-65, 18+, 25-45"
        
      - label: "ğŸ“Š Average Length of Stay (Days)"
        name: "lengthOfStayAvg"
        widget: "number"
        default: 90
        min: 30
        max: 365
        
      - label: "ğŸ“‹ Programs Offered"
        name: "programs"
        widget: "list"
        required: true
        default: ["Standard Sober Living", "Extended Care Program"]
        
      - label: "ğŸ¯ Specializations"
        name: "specializations"
        widget: "list"
        required: false
        hint: "Special populations served (e.g., Veterans, Professionals, Young Adults)"
        
      - label: "âœ¨ Amenities & Services"
        name: "amenities"
        widget: "list"
        required: true
        default: ["24/7 House Manager", "Weekly House Meetings"]
        
      - label: "ğŸ“¸ Facility Photos"
        name: "images"
        widget: "list"
        field: {label: Image, name: image, widget: image}
        
      - label: "ğŸ“ Description"
        name: "description"
        widget: "text"
        required: true
        
      - label: "ğŸ”„ Availability Status"
        name: "availability"
        widget: "select"
        options: 
          - {label: "âœ… Accepting Residents", value: "accepting"}
          - {label: "â³ Waitlist Only", value: "waitlist"}  
          - {label: "âŒ Currently Full", value: "full"}
        default: "accepting"
        
      - label: "â­ Featured Facility"
        name: "featured"
        widget: "boolean"
        default: false
        
      - label: "ğŸ“… Date Added"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD"
        
      - label: "ğŸ” SEO Page Title"
        name: "metaTitle"
        widget: "string"
        required: false
        hint: "Optional custom page title for search engines"
        
      - label: "ğŸ“„ SEO Description"
        name: "metaDescription"
        widget: "text"
        required: false
        hint: "Optional description for search engines (150-160 characters)"

  # ğŸ“ INQUIRY MANAGEMENT & CRM
  - name: "inquiries"
    label: "ğŸ“ Resident Inquiries"
    label_singular: "Inquiry"
    folder: "src/content/inquiries"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{name}}"
    extension: "json"
    format: "json"
    summary: "{{name}} â€¢ {{status}} â€¢ {{priority}} â€¢ {{createdAt}} â€¢ Score: {{leadScore}}"
    sortable_fields: ['createdAt', 'status', 'priority', 'leadScore', 'nextFollowUp']
    
    view_filters:
      - label: "ğŸ†• New Inquiries"
        field: status
        pattern: "new"
      - label: "ğŸ“ Contacted"
        field: status  
        pattern: "contacted"
      - label: "ğŸ”¥ High Priority"
        field: priority
        pattern: "high"
      - label: "âœ… Qualified Leads"
        field: status
        pattern: "qualified"
      - label: "ğŸ“… Follow-up Today"
        field: nextFollowUp
        pattern: "2025.*"
    
    fields:
      # PERSONAL INFORMATION
      - label: "ğŸ‘¤ Full Name"
        name: "name"
        widget: "string" 
        required: true
        
      - label: "ğŸ‚ Age"
        name: "age"
        widget: "number"
        required: false
        min: 18
        max: 80
        
      - label: "âš§ Gender"
        name: "gender"
        widget: "select"
        required: false
        options:
          - {label: "ğŸ‘¨ Male", value: "male"}
          - {label: "ğŸ‘© Female", value: "female"}
          - {label: "ğŸ¤ Other", value: "other"}
        
      - label: "ğŸ“± Phone Number"
        name: "phone"
        widget: "string"
        required: true
        
      - label: "ğŸ“§ Email Address"
        name: "email"
        widget: "string"
        required: true
        
      # EMERGENCY CONTACTS
      - label: "ğŸš¨ Emergency Contact Name"
        name: "emergencyContact"
        widget: "string"
        required: false
        hint: "Primary emergency contact"
        
      - label: "ğŸ“ Emergency Contact Phone"
        name: "emergencyPhone"
        widget: "string"
        required: false
        
      - label: "ğŸ‘¥ Relationship"
        name: "relationship"
        widget: "string"
        required: false
        hint: "Relationship to emergency contact (parent, spouse, etc.)"
        
      # INSURANCE & PAYMENT
      - label: "ğŸ¥ Insurance Provider"
        name: "insuranceProvider"
        widget: "string"
        required: false
        
      - label: "ğŸ†” Insurance ID"
        name: "insuranceID"
        widget: "string"
        required: false
        
      - label: "ğŸ’³ Payment Method"
        name: "paymentMethod"
        widget: "select"
        required: true
        options:
          - {label: "ğŸ¥ Insurance", value: "insurance"}
          - {label: "ğŸ’° Self Pay", value: "self-pay"}
          - {label: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family Pays", value: "family"}
          - {label: "ğŸ“‹ Other", value: "other"}
        default: "self-pay"
        
      # TREATMENT HISTORY
      - label: "ğŸ’Š Previous Treatment History"
        name: "previousTreatment"
        widget: "text"
        required: false
        hint: "Brief history of prior treatment/recovery attempts"
        
      - label: "ğŸ“… Current Sobriety Date"
        name: "currentSobrietyDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        hint: "Date of last substance use"
        
      - label: "ğŸš« Substances Used"
        name: "substancesUsed"
        widget: "list"
        required: false
        hint: "List primary substances of concern"
        
      - label: "ğŸ“… Last Use Date"
        name: "lastUseDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸ¥ Detox Completed?"
        name: "detoxCompleted"
        widget: "boolean"
        default: false
        
      - label: "ğŸ¥ Detox Location"
        name: "detoxLocation"
        widget: "string"
        required: false
        hint: "Where detox was completed"
        
      # CURRENT SITUATION
      - label: "ğŸ’¬ Inquiry Message"
        name: "message"
        widget: "text"
        required: true
        
      - label: "ğŸ  Current Living Situation"
        name: "currentLiving"
        widget: "string"
        required: false
        hint: "Where they're currently staying"
        
      - label: "ğŸš— Has Transportation"
        name: "transportation"
        widget: "boolean"
        default: false
        
      - label: "ğŸ’¼ Employment Status"
        name: "employment"
        widget: "string"
        required: false
        hint: "Current employment situation"
        
      - label: "âš–ï¸ Legal Issues"
        name: "legalIssues"
        widget: "boolean"
        default: false
        
      - label: "ğŸ¥ Medical Issues"
        name: "medicalIssues"
        widget: "string"
        required: false
        hint: "Any medical conditions or medications"
        
      # PREFERENCES
      - label: "ğŸ  Preferred Facility"
        name: "preferredFacility"
        widget: "string"
        required: false
        hint: "Specific facility they're interested in"
        
      - label: "ğŸ“‹ Preferred Program"
        name: "preferredProgram"
        widget: "select"
        required: false
        options:
          - "Standard Sober Living"
          - "Extended Care Program"
          - "Transitional Living"
          - "Not Sure Yet"
        default: "Not Sure Yet"
        
      - label: "ğŸ“… Preferred Move-in Date"
        name: "moveInDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "â° Expected Length of Stay"
        name: "lengthOfStay"
        widget: "select"
        required: false
        options:
          - "30 days"
          - "60 days"
          - "90 days"
          - "6 months"
          - "1 year"
          - "Unsure"
        
      # CRM TRACKING
      - label: "ğŸ“ How They Found Us"
        name: "source"
        widget: "select"
        options:
          - {label: "ğŸŒ Website", value: "website"}
          - {label: "ğŸ“ Phone Call", value: "phone"}
          - {label: "ğŸ‘¥ Personal Referral", value: "referral"}
          - {label: "ğŸ¥ Treatment Center", value: "treatment-center"}
          - {label: "ğŸ‘¨â€âš•ï¸ Therapist/Counselor", value: "therapist"}
          - {label: "ğŸ‘¨â€ğŸ’¼ Case Manager", value: "case-manager"}
          - {label: "ğŸ” Google Search", value: "google"}
          - {label: "ğŸ“± Social Media", value: "social-media"}
          - {label: "âš–ï¸ Court/Legal", value: "court"}
          - {label: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family/Friend", value: "family"}
        default: "website"
        
      - label: "ğŸ¤ Referred By"
        name: "referredBy"
        widget: "string"
        required: false
        hint: "Specific person or organization that referred them"
        
      - label: "ğŸ“Š Inquiry Status"
        name: "status"
        widget: "select"
        options:
          - {label: "ğŸ†• New Inquiry", value: "new"}
          - {label: "ğŸ“ Contacted", value: "contacted"}
          - {label: "ğŸ“… Assessment Scheduled", value: "scheduled"}
          - {label: "âœ… Qualified for Admission", value: "qualified"}
          - {label: "ğŸ  Admitted", value: "admitted"}
          - {label: "âŒ Declined/Not Suitable", value: "declined"}
          - {label: "ğŸ“‰ Lost Contact", value: "lost"}
        default: "new"
        
      - label: "ğŸ”¥ Priority Level"
        name: "priority"
        widget: "select"
        options:
          - {label: "ğŸ”¥ High Priority", value: "high"}
          - {label: "ğŸŸ¡ Medium Priority", value: "medium"}  
          - {label: "â„ï¸ Low Priority", value: "low"}
        default: "medium"
        
      - label: "ğŸ‘¨â€ğŸ’¼ Staff Assigned"
        name: "staffAssigned"
        widget: "string"
        required: false
        hint: "Staff member handling this inquiry"
        
      - label: "ğŸ“ˆ Lead Score (0-100)"
        name: "leadScore"
        widget: "number"
        required: false
        default: 0
        min: 0
        max: 100
        hint: "Automated lead scoring (0-100)"
        
      - label: "ğŸ“Š Conversion Probability (%)"
        name: "conversionProbability"
        widget: "number"
        required: false
        default: 50
        min: 0
        max: 100
        hint: "Likelihood of admission (0-100%)"
        
      # TRACKING DATES
      - label: "ğŸ“… Inquiry Date"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm"
        required: true
        
      - label: "ğŸ“ Last Contact Date"
        name: "lastContactDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸ“… Next Follow-up Date"
        name: "nextFollowUp"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      # NOTES
      - label: "ğŸ“ Public Notes"
        name: "notes"
        widget: "text"
        required: false
        hint: "Notes visible to all staff"
        
      - label: "ğŸ”’ Private Notes"
        name: "privateNotes"
        widget: "text"
        required: false
        hint: "Confidential notes for management only"

  # ğŸ‘¥ RESIDENT MANAGEMENT (New Enterprise Feature)
  - name: "residents"
    label: "ğŸ‘¥ Current Residents"
    label_singular: "Resident"
    folder: "src/content/residents"
    create: true
    slug: "{{year}}-{{month}}-{{firstName}}-{{lastName}}"
    extension: "json"
    format: "json"
    summary: "{{firstName}} {{lastName}} â€¢ {{facility}} â€¢ {{currentStatus}} â€¢ Room {{roomNumber}}"
    sortable_fields: ['lastName', 'facility', 'checkInDate', 'currentStatus', 'balanceOwed']
    
    view_filters:
      - label: "ğŸŸ¢ Active Residents"
        field: currentStatus
        pattern: "active"
      - label: "ğŸ  Main House"
        field: facility
        pattern: "main-house"
      - label: "ğŸ’° Balance Owed"
        field: balanceOwed
        pattern: "[1-9].*"
      - label: "ğŸ“… Recent Admissions"
        field: checkInDate
        pattern: "2025.*"
    
    fields:
      # PERSONAL INFORMATION
      - label: "ğŸ‘¤ First Name"
        name: "firstName"
        widget: "string"
        required: true
        
      - label: "ğŸ‘¤ Last Name"  
        name: "lastName"
        widget: "string"
        required: true
        
      - label: "ğŸ‚ Date of Birth"
        name: "dateOfBirth"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "ğŸ†” Social Security Number"
        name: "ssn"
        widget: "string"
        required: false
        hint: "Stored encrypted - last 4 digits only recommended"
        
      - label: "ğŸ“¸ Photo"
        name: "photo"
        widget: "image"
        required: false
        
      - label: "âš§ Gender"
        name: "gender"
        widget: "select"
        required: true
        options:
          - {label: "ğŸ‘¨ Male", value: "male"}
          - {label: "ğŸ‘© Female", value: "female"}
          - {label: "ğŸ¤ Other", value: "other"}
        
      # CONTACT INFORMATION
      - label: "ğŸ“± Phone Number"
        name: "phone"
        widget: "string"
        required: true
        
      - label: "ğŸ“§ Email Address"
        name: "email"
        widget: "string"
        required: true
        
      - label: "ğŸ  Previous Address"
        name: "address"
        widget: "string"
        required: false
        
      - label: "ğŸ˜ï¸ City"
        name: "city"
        widget: "string"
        required: false
        
      - label: "ğŸ—ºï¸ State"
        name: "state"
        widget: "string"
        required: false
        
      - label: "ğŸ“® Zip Code"
        name: "zipCode"
        widget: "string"
        required: false
        
      # EMERGENCY CONTACTS
      - label: "ğŸš¨ Primary Emergency Contact"
        name: "emergencyContact1"
        widget: "object"
        fields:
          - {label: "Name", name: "name", widget: "string"}
          - {label: "Relationship", name: "relationship", widget: "string"}
          - {label: "Phone", name: "phone", widget: "string"}
          - {label: "Email", name: "email", widget: "string", required: false}
        
      - label: "ğŸš¨ Secondary Emergency Contact"
        name: "emergencyContact2"
        widget: "object"
        required: false
        fields:
          - {label: "Name", name: "name", widget: "string"}
          - {label: "Relationship", name: "relationship", widget: "string"}
          - {label: "Phone", name: "phone", widget: "string"}
          - {label: "Email", name: "email", widget: "string", required: false}
        
      # INSURANCE
      - label: "ğŸ¥ Insurance Provider"
        name: "insuranceProvider"
        widget: "string"
        required: false
        
      - label: "ğŸ†” Insurance ID"
        name: "insuranceID"
        widget: "string"
        required: false
        
      - label: "ğŸ‘¥ Group Number"
        name: "groupNumber"
        widget: "string"
        required: false
        
      - label: "ğŸ“‹ Subscriber Name"
        name: "subscriberName"
        widget: "string"
        required: false
        
      # RESIDENCY
      - label: "ğŸ  Facility"
        name: "facility"
        widget: "string"
        required: true
        hint: "Reference to facility slug"
        
      - label: "ğŸšª Room Number"
        name: "roomNumber"
        widget: "string"
        required: false
        
      - label: "ğŸ›ï¸ Bed Assignment"
        name: "bedAssignment"
        widget: "string"
        required: false
        
      - label: "ğŸ“… Check-in Date"
        name: "checkInDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "ğŸ“… Expected Check-out Date"
        name: "expectedCheckOutDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸ“… Actual Check-out Date"
        name: "actualCheckOutDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "â° Length of Stay (Days)"
        name: "lengthOfStay"
        widget: "number"
        default: 90
        min: 1
        max: 1095
        
      # STATUS
      - label: "ğŸ“Š Current Status"
        name: "currentStatus"
        widget: "select"
        required: true
        options:
          - {label: "ğŸŸ¢ Active", value: "active"}
          - {label: "âœ… Discharged", value: "discharged"}
          - {label: "âŒ AWOL", value: "awol"}
          - {label: "â¸ï¸ Suspended", value: "suspended"}
          - {label: "ğŸ”„ Transferred", value: "transferred"}
        default: "active"
        
      - label: "ğŸ“ Discharge Reason"
        name: "dischargeReason"
        widget: "string"
        required: false
        
      - label: "ğŸ“‹ Discharge Type"
        name: "dischargeType"
        widget: "select"
        required: false
        options:
          - {label: "âœ… Successful Completion", value: "successful"}
          - {label: "âš ï¸ Against Medical Advice", value: "against-advice"}
          - {label: "âŒ Rule Violation", value: "violation"}
          - {label: "ğŸ¥ Medical", value: "medical"}
          - {label: "ğŸ“‹ Other", value: "other"}
        
      # RECOVERY INFORMATION
      - label: "ğŸ“… Sobriety Date"
        name: "sobrietyDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸš« Substance History"
        name: "substanceHistory"
        widget: "list"
        required: false
        
      - label: "ğŸ’Š Treatment History"
        name: "treatmentHistory"
        widget: "text"
        required: false
        
      - label: "ğŸ’Š Current Medications"
        name: "medications"
        widget: "list"
        required: false
        
      - label: "âš ï¸ Allergies"
        name: "allergies"
        widget: "list"
        required: false
        
      - label: "ğŸ¥ Medical Conditions"
        name: "medicalConditions"
        widget: "list"
        required: false
        
      # PROGRAM PARTICIPATION
      - label: "ğŸ“‹ Program"
        name: "program"
        widget: "string"
        required: true
        
      - label: "ğŸ“… Meetings Required (Per Week)"
        name: "meetingsRequired"
        widget: "number"
        default: 7
        min: 0
        max: 21
        
      - label: "âœ… Meetings Attended"
        name: "meetingsAttended"
        widget: "number"
        default: 0
        min: 0
        
      - label: "ğŸ¤ Sponsor"
        name: "sponsor"
        widget: "string"
        required: false
        
      - label: "ğŸ“ Sponsor Contact"
        name: "sponsorContact"
        widget: "string"
        required: false
        
      - label: "ğŸ  Home Group"
        name: "homeGroup"
        widget: "string"
        required: false
        
      # EMPLOYMENT
      - label: "ğŸ’¼ Employment Status"
        name: "employmentStatus"
        widget: "select"
        required: false
        options:
          - {label: "âœ… Employed", value: "employed"}
          - {label: "âŒ Unemployed", value: "unemployed"}
          - {label: "ğŸ“š Student", value: "student"}
          - {label: "â™¿ Disabled", value: "disabled"}
          - {label: "ğŸ–ï¸ Retired", value: "retired"}
        
      - label: "ğŸ¢ Employer"
        name: "employer"
        widget: "string"
        required: false
        
      - label: "ğŸ’¼ Job Title"
        name: "jobTitle"
        widget: "string"
        required: false
        
      - label: "ğŸ“ Work Phone"
        name: "workPhone"
        widget: "string"
        required: false
        
      - label: "ğŸ“ Education"
        name: "education"
        widget: "string"
        required: false
        
      # FINANCIAL
      - label: "ğŸ’° Monthly Rent"
        name: "monthlyRent"
        widget: "number"
        required: true
        min: 0
        
      - label: "ğŸ¦ Security Deposit"
        name: "securityDeposit"
        widget: "number"
        default: 0
        min: 0
        
      - label: "ğŸ’³ Balance Owed"
        name: "balanceOwed"
        widget: "number"
        default: 0
        
      - label: "ğŸ’³ Payment Method"
        name: "paymentMethod"
        widget: "select"
        required: true
        options:
          - {label: "ğŸ’µ Cash", value: "cash"}
          - {label: "ğŸ“ Check", value: "check"}
          - {label: "ğŸ’³ Card", value: "card"}
          - {label: "ğŸ¥ Insurance", value: "insurance"}
          - {label: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family", value: "family"}
        default: "cash"
        
      - label: "ğŸ“… Payment Schedule"
        name: "paymentSchedule"
        widget: "select"
        required: true
        options:
          - {label: "ğŸ“… Weekly", value: "weekly"}
          - {label: "ğŸ“… Monthly", value: "monthly"}
          - {label: "ğŸ“‹ Other", value: "other"}
        default: "monthly"
        
      # LEGAL
      - label: "âš–ï¸ Legal Issues"
        name: "legalIssues"
        widget: "boolean"
        default: false
        
      - label: "ğŸ‘¨â€ğŸ’¼ Probation Officer"
        name: "probationOfficer"
        widget: "string"
        required: false
        
      - label: "ğŸ“… Court Dates"
        name: "courtDates"
        widget: "list"
        required: false
        
      - label: "âš–ï¸ Legal Notes"
        name: "legalNotes"
        widget: "text"
        required: false
        
      # CASE MANAGEMENT
      - label: "ğŸ‘¨â€ğŸ’¼ Case Manager"
        name: "caseManager"
        widget: "string"
        required: false
        
      - label: "ğŸ“‹ Treatment Plan"
        name: "treatmentPlan"
        widget: "text"
        required: false
        
      - label: "ğŸ¯ Goals"
        name: "goals"
        widget: "list"
        required: false
        
      - label: "ğŸ“… Last Assessment"
        name: "lastAssessment"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸ“… Next Assessment"
        name: "nextAssessment"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      # PERMISSIONS
      - label: "ğŸ“¸ Photo Permission"
        name: "photoPermission"
        widget: "boolean"
        default: false
        
      - label: "ğŸ“º Media Permission"
        name: "mediaPermission"
        widget: "boolean"
        default: false
        
      - label: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family Contact Permission"
        name: "familyContactPermission"
        widget: "boolean"
        default: true
        
      # SYSTEM FIELDS
      - label: "ğŸ“… Created Date"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm"
        required: true
        
      - label: "ğŸ“… Updated Date"
        name: "updatedAt"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm"
        required: true
        
      - label: "ğŸ‘¨â€ğŸ’¼ Created By"
        name: "createdBy"
        widget: "string"
        required: true
        
      - label: "ğŸ‘¨â€ğŸ’¼ Last Modified By"
        name: "lastModifiedBy"
        widget: "string"
        required: true
        
      # NOTES
      - label: "ğŸ“ Admission Notes"
        name: "admissionNotes"
        widget: "text"
        required: false
        
      - label: "ğŸ§  Behavioral Notes"
        name: "behavioralNotes"
        widget: "text"
        required: false
        
      - label: "ğŸ¥ Medical Notes"
        name: "medicalNotes"
        widget: "text"
        required: false
        
      - label: "ğŸ“ˆ Progress Notes"
        name: "progressNotes"
        widget: "text"
        required: false

  # ğŸ’° PAYMENTS & BILLING (New)
  - name: "payments"
    label: "ğŸ’° Payments & Billing"
    label_singular: "Payment"
    folder: "src/content/payments"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{resident}}-{{paymentType}}"
    extension: "json"
    format: "json"
    summary: "{{resident}} â€¢ ${{amount}} â€¢ {{paymentType}} â€¢ {{status}} â€¢ {{paymentDate}}"
    sortable_fields: ['paymentDate', 'amount', 'status', 'resident', 'dueDate']
    
    view_filters:
      - label: "âœ… Completed Payments"
        field: status
        pattern: "completed"
      - label: "â³ Pending Payments"
        field: status
        pattern: "pending"
      - label: "âŒ Failed Payments"
        field: status
        pattern: "failed"
      - label: "ğŸ’° Rent Payments"
        field: paymentType
        pattern: "rent"
      - label: "ğŸ“… This Month"
        field: paymentDate
        pattern: "2025-08.*"
    
    fields:
      - label: "ğŸ‘¥ Resident"
        name: "resident"
        widget: "string"
        required: true
        hint: "Resident name or ID"
        
      - label: "ğŸ’° Amount"
        name: "amount"
        widget: "number"
        required: true
        step: 0.01
        min: 0
        
      - label: "ğŸ“… Payment Date"
        name: "paymentDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "ğŸ“… Due Date"
        name: "dueDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "ğŸ’³ Payment Method"
        name: "paymentMethod"
        widget: "select"
        required: true
        options:
          - {label: "ğŸ’µ Cash", value: "cash"}
          - {label: "ğŸ“ Check", value: "check"}
          - {label: "ğŸ’³ Credit/Debit Card", value: "card"}
          - {label: "ğŸ¦ Bank Transfer", value: "bank-transfer"}
          - {label: "ğŸ¥ Insurance", value: "insurance"}
          - {label: "ğŸ’° Money Order", value: "money-order"}
        
      - label: "ğŸ“‹ Payment Type"
        name: "paymentType"
        widget: "select"
        required: true
        options:
          - {label: "ğŸ  Rent", value: "rent"}
          - {label: "ğŸ¦ Security Deposit", value: "security-deposit"}
          - {label: "ğŸ“‹ Fees", value: "fees"}
          - {label: "âš¡ Utilities", value: "utilities"}
          - {label: "ğŸ“‹ Other", value: "other"}
        
      - label: "ğŸ“Š Status"
        name: "status"
        widget: "select"
        required: true
        options:
          - {label: "â³ Pending", value: "pending"}
          - {label: "âœ… Completed", value: "completed"}
          - {label: "âŒ Failed", value: "failed"}
          - {label: "ğŸ’¸ Refunded", value: "refunded"}
          - {label: "ğŸ”„ Partial", value: "partial"}
        default: "pending"
        
      - label: "ğŸ“ Check Number"
        name: "checkNumber"
        widget: "string"
        required: false
        
      - label: "ğŸ”¢ Reference Number"
        name: "referenceNumber"
        widget: "string"
        required: false
        
      - label: "ğŸ“„ Receipt Number"
        name: "receiptNumber"
        widget: "string"
        required: false
        
      - label: "ğŸ‘¨â€ğŸ’¼ Recorded By"
        name: "recordedBy"
        widget: "string"
        required: true
        
      - label: "ğŸ“… Recorded At"
        name: "recordedAt"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm"
        required: true
        
      - label: "ğŸ“ Notes"
        name: "notes"
        widget: "text"
        required: false
        
      - label: "ğŸ“… Period Start"
        name: "periodStart"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        hint: "For recurring payments like rent"
        
      - label: "ğŸ“… Period End"
        name: "periodEnd"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "â° Late Fee"
        name: "lateFee"
        widget: "number"
        default: 0
        step: 0.01
        min: 0
        
      - label: "ğŸ’³ Processing Fee"
        name: "processingFee"
        widget: "number"
        default: 0
        step: 0.01
        min: 0
        
      - label: "ğŸ’° Total Amount"
        name: "totalAmount"
        widget: "number"
        required: true
        step: 0.01
        min: 0

  # ğŸ“ CASE NOTES & DOCUMENTATION (New)
  - name: "caseNotes"
    label: "ğŸ“ Case Notes"
    label_singular: "Case Note"
    folder: "src/content/case-notes"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{resident}}-{{noteType}}"
    extension: "json"
    format: "json"
    summary: "{{resident}} â€¢ {{title}} â€¢ {{noteType}} â€¢ {{urgency}} â€¢ {{noteDate}}"
    sortable_fields: ['noteDate', 'urgency', 'noteType', 'resident', 'followUpDate']
    
    view_filters:
      - label: "ğŸ”¥ High Urgency"
        field: urgency
        pattern: "high"
      - label: "ğŸš¨ Critical"
        field: urgency
        pattern: "critical"
      - label: "ğŸ“‹ Daily Notes"
        field: noteType
        pattern: "daily"
      - label: "ğŸš¨ Incident Reports"
        field: noteType
        pattern: "incident"
      - label: "ğŸ“… Follow-up Required"
        field: followUpRequired
        pattern: true
    
    fields:
      - label: "ğŸ‘¥ Resident"
        name: "resident"
        widget: "string"
        required: true
        hint: "Resident name or ID"
        
      - label: "ğŸ‘¨â€ğŸ’¼ Staff Member"
        name: "staffMember"
        widget: "string"
        required: true
        
      - label: "ğŸ“… Note Date"
        name: "noteDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "â° Note Time"
        name: "noteTime"
        widget: "datetime"
        format: "HH:mm"
        required: true
        
      - label: "ğŸ“‹ Note Type"
        name: "noteType"
        widget: "select"
        required: true
        options:
          - {label: "ğŸ“… Daily Note", value: "daily"}
          - {label: "ğŸš¨ Incident Report", value: "incident"}
          - {label: "ğŸ¥ Medical Note", value: "medical"}
          - {label: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family Contact", value: "family"}
          - {label: "ğŸ“ˆ Progress Note", value: "progress"}
          - {label: "ğŸ§  Behavioral Note", value: "behavioral"}
          - {label: "ğŸ‘¥ Meeting Note", value: "meeting"}
          - {label: "ğŸ“ Phone Call", value: "phone-call"}
          - {label: "ğŸ“Š Assessment", value: "assessment"}
        
      - label: "ğŸš¨ Urgency Level"
        name: "urgency"
        widget: "select"
        required: true
        options:
          - {label: "â„ï¸ Low", value: "low"}
          - {label: "ğŸŸ¡ Medium", value: "medium"}
          - {label: "ğŸ”¥ High", value: "high"}
          - {label: "ğŸš¨ Critical", value: "critical"}
        default: "medium"
        
      - label: "ğŸ”’ Confidential"
        name: "confidential"
        widget: "boolean"
        default: false
        hint: "Check if this note contains sensitive information"
        
      - label: "ğŸ“ Title"
        name: "title"
        widget: "string"
        required: true
        hint: "Brief summary of the note"
        
      - label: "ğŸ“„ Content"
        name: "content"
        widget: "text"
        required: true
        
      - label: "âœ… Action Items"
        name: "actionItems"
        widget: "list"
        required: false
        
      - label: "ğŸ“… Follow-up Required"
        name: "followUpRequired"
        widget: "boolean"
        default: false
        
      - label: "ğŸ“… Follow-up Date"
        name: "followUpDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸ‘¨â€ğŸ’¼ Follow-up With"
        name: "followUpWith"
        widget: "string"
        required: false
        
      - label: "ğŸ·ï¸ Categories"
        name: "categories"
        widget: "list"
        required: false
        
      - label: "ğŸ·ï¸ Tags"
        name: "tags"
        widget: "list"
        required: false
        
      - label: "ğŸ‘ï¸ Witnessed"
        name: "witnessed"
        widget: "boolean"
        default: false
        
      - label: "ğŸ‘¤ Witness Name"
        name: "witnessName"
        widget: "string"
        required: false
        
      # INCIDENT SPECIFIC FIELDS
      - label: "âš ï¸ Incident Severity"
        name: "incidentSeverity"
        widget: "select"
        required: false
        options:
          - {label: "ğŸŸ¢ Minor", value: "minor"}
          - {label: "ğŸŸ¡ Moderate", value: "moderate"}
          - {label: "ğŸ”´ Major", value: "major"}
          - {label: "ğŸš¨ Critical", value: "critical"}
        
      - label: "ğŸ‘® Police Involved"
        name: "policeInvolved"
        widget: "boolean"
        default: false
        
      - label: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family Notified"
        name: "familyNotified"
        widget: "boolean"
        default: false
        
      - label: "ğŸ’Š Medication Related"
        name: "medicationRelated"
        widget: "boolean"
        default: false
        
      # REVIEW FIELDS
      - label: "âœ… Reviewed"
        name: "reviewed"
        widget: "boolean"
        default: false
        
      - label: "ğŸ‘¨â€ğŸ’¼ Reviewed By"
        name: "reviewedBy"
        widget: "string"
        required: false
        
      - label: "ğŸ“… Reviewed At"
        name: "reviewedAt"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm"
        required: false
        
      - label: "ğŸ‘¨â€ğŸ’¼ Supervisor Notified"
        name: "supervisorNotified"
        widget: "boolean"
        default: false
        
      # SYSTEM FIELDS
      - label: "ğŸ“… Created At"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm"
        required: true
        
      - label: "ğŸ“… Updated At"
        name: "updatedAt"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm"
        required: true

  # ğŸ‘¨â€ğŸ’¼ STAFF MANAGEMENT (New)
  - name: "staff"
    label: "ğŸ‘¨â€ğŸ’¼ Staff Management"
    label_singular: "Staff Member"
    folder: "src/content/staff"
    create: true
    slug: "{{firstName}}-{{lastName}}"
    extension: "json"
    format: "json"
    summary: "{{firstName}} {{lastName}} â€¢ {{role}} â€¢ {{status}} â€¢ {{facilities}}"
    sortable_fields: ['lastName', 'role', 'hireDate', 'status']
    
    view_filters:
      - label: "ğŸŸ¢ Active Staff"
        field: status
        pattern: "active"
      - label: "ğŸ‘¨â€ğŸ’¼ House Managers"
        field: role
        pattern: "house-manager"
      - label: "ğŸ‘©â€âš•ï¸ Clinical Staff"
        field: role
        pattern: "clinical"
      - label: "ğŸ“Š Admin Level"
        field: accessLevel
        pattern: "admin"
    
    fields:
      # PERSONAL INFORMATION
      - label: "ğŸ‘¤ First Name"
        name: "firstName"
        widget: "string"
        required: true
        
      - label: "ğŸ‘¤ Last Name"
        name: "lastName"
        widget: "string"
        required: true
        
      - label: "ğŸ“§ Email Address"
        name: "email"
        widget: "string"
        required: true
        
      - label: "ğŸ“± Phone Number"
        name: "phone"
        widget: "string"
        required: true
        
      - label: "ğŸ  Address"
        name: "address"
        widget: "string"
        required: false
        
      # EMPLOYMENT
      - label: "ğŸ†” Employee ID"
        name: "employeeId"
        widget: "string"
        required: true
        
      - label: "ğŸ‘¨â€ğŸ’¼ Role"
        name: "role"
        widget: "select"
        required: true
        options:
          - {label: "ğŸ  House Manager", value: "house-manager"}
          - {label: "ğŸ‘©â€âš•ï¸ Case Manager", value: "case-manager"}
          - {label: "ğŸ“Š Administrator", value: "admin"}
          - {label: "ğŸ‘©â€âš•ï¸ Clinical Staff", value: "clinical"}
          - {label: "ğŸ”§ Maintenance", value: "maintenance"}
          - {label: "ğŸ‘¨â€ğŸ’¼ Director", value: "director"}
        
      - label: "ğŸ¢ Department"
        name: "department"
        widget: "string"
        required: true
        
      - label: "ğŸ“… Hire Date"
        name: "hireDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "ğŸ“… Termination Date"
        name: "terminationDate"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸ“Š Status"
        name: "status"
        widget: "select"
        required: true
        options:
          - {label: "ğŸŸ¢ Active", value: "active"}
          - {label: "ğŸ”´ Inactive", value: "inactive"}
          - {label: "âŒ Terminated", value: "terminated"}
          - {label: "â¸ï¸ On Leave", value: "on-leave"}
        default: "active"
        
      # ACCESS & PERMISSIONS
      - label: "ğŸ  Facilities Access"
        name: "facilities"
        widget: "list"
        required: false
        hint: "List of facility slugs this staff member can access"
        
      - label: "ğŸ”‘ Permissions"
        name: "permissions"
        widget: "list"
        required: false
        hint: "Specific system permissions"
        
      - label: "ğŸ” Access Level"
        name: "accessLevel"
        widget: "select"
        required: true
        options:
          - {label: "ğŸ”µ Basic", value: "basic"}
          - {label: "ğŸŸ¡ Standard", value: "standard"}
          - {label: "ğŸŸ  Advanced", value: "advanced"}
          - {label: "ğŸ”´ Admin", value: "admin"}
        default: "basic"
        
      # SCHEDULE
      - label: "â° Shift Type"
        name: "shiftType"
        widget: "select"
        required: false
        options:
          - {label: "ğŸŒ… Day Shift", value: "day"}
          - {label: "ğŸŒ† Evening Shift", value: "evening"}
          - {label: "ğŸŒ™ Night Shift", value: "night"}
          - {label: "ğŸ”„ Rotating", value: "rotating"}
          - {label: "ğŸ“ On-Call", value: "on-call"}
        
      - label: "â° Hours Per Week"
        name: "hoursPerWeek"
        widget: "number"
        default: 40
        min: 0
        max: 80
        
      - label: "ğŸ“… Schedule Details"
        name: "schedule"
        widget: "text"
        required: false
        hint: "Detailed schedule information"
        
      # QUALIFICATIONS
      - label: "ğŸ“œ Certifications"
        name: "certifications"
        widget: "list"
        required: false
        
      - label: "ğŸ†” License Number"
        name: "licenseNumber"
        widget: "string"
        required: false
        
      - label: "ğŸ“… License Expiration"
        name: "licenseExpiration"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸ“ Education"
        name: "education"
        widget: "string"
        required: false
        
      # EMERGENCY CONTACT
      - label: "ğŸš¨ Emergency Contact"
        name: "emergencyContact"
        widget: "object"
        fields:
          - {label: "Name", name: "name", widget: "string"}
          - {label: "Relationship", name: "relationship", widget: "string"}
          - {label: "Phone", name: "phone", widget: "string"}
        
      # PAYROLL (Optional)
      - label: "ğŸ’° Hourly Rate"
        name: "hourlyRate"
        widget: "number"
        required: false
        step: 0.01
        min: 0
        
      - label: "ğŸ’° Annual Salary"
        name: "salaryAnnual"
        widget: "number"
        required: false
        min: 0
        
      - label: "ğŸ“… Pay Frequency"
        name: "payFrequency"
        widget: "select"
        required: false
        options:
          - {label: "ğŸ“… Weekly", value: "weekly"}
          - {label: "ğŸ“… Bi-weekly", value: "bi-weekly"}
          - {label: "ğŸ“… Monthly", value: "monthly"}
        
      # SYSTEM FIELDS
      - label: "ğŸ“… Created At"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm"
        required: true
        
      - label: "ğŸ“… Updated At"
        name: "updatedAt"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm"
        required: true
        
      - label: "ğŸ“… Last Login"
        name: "lastLogin"
        widget: "datetime"
        format: "YYYY-MM-DD HH:mm"
        required: false
        
      # NOTES
      - label: "ğŸ“ General Notes"
        name: "notes"
        widget: "text"
        required: false
        
      - label: "ğŸ“ˆ Performance Notes"
        name: "performanceNotes"
        widget: "text"
        required: false
        hint: "Confidential performance evaluations"

  # ğŸ¤ REFERRAL PARTNERS (New)
  - name: "referralPartners"
    label: "ğŸ¤ Referral Partners"
    label_singular: "Partner"
    folder: "src/content/referral-partners"
    create: true
    slug: "{{organizationName}}"
    extension: "json"
    format: "json"
    summary: "{{organizationName}} â€¢ {{partnerType}} â€¢ {{status}} â€¢ {{referralsReceived}} referrals"
    sortable_fields: ['organizationName', 'partnerType', 'referralsReceived', 'successRate']
    
    view_filters:
      - label: "ğŸŸ¢ Active Partners"
        field: status
        pattern: "active"
      - label: "â­ Preferred Partners"
        field: status
        pattern: "preferred"
      - label: "ğŸ¥ Treatment Centers"
        field: partnerType
        pattern: "treatment-center"
      - label: "ğŸ‘©â€âš•ï¸ Therapists"
        field: partnerType
        pattern: "therapist"
    
    fields:
      - label: "ğŸ¢ Organization Name"
        name: "organizationName"
        widget: "string"
        required: true
        
      - label: "ğŸ‘¤ Contact Person"
        name: "contactPerson"
        widget: "string"
        required: true
        
      - label: "ğŸ’¼ Title"
        name: "title"
        widget: "string"
        required: false
        
      - label: "ğŸ“§ Email"
        name: "email"
        widget: "string"
        required: true
        
      - label: "ğŸ“± Phone"
        name: "phone"
        widget: "string"
        required: true
        
      - label: "ğŸ  Address"
        name: "address"
        widget: "string"
        required: false
        
      - label: "ğŸ·ï¸ Partner Type"
        name: "partnerType"
        widget: "select"
        required: true
        options:
          - {label: "ğŸ¥ Treatment Center", value: "treatment-center"}
          - {label: "ğŸ¥ Hospital", value: "hospital"}
          - {label: "ğŸ‘©â€âš•ï¸ Therapist", value: "therapist"}
          - {label: "ğŸ‘¨â€ğŸ’¼ Case Manager", value: "case-manager"}
          - {label: "âš–ï¸ Court System", value: "court"}
          - {label: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family", value: "family"}
          - {label: "ğŸ“ Alumni", value: "alumni"}
          - {label: "ğŸ“‹ Other", value: "other"}
        
      - label: "ğŸ¯ Specialization"
        name: "specialization"
        widget: "list"
        required: false
        hint: "Areas of specialization (e.g., Veterans, Young Adults, Dual Diagnosis)"
        
      - label: "ğŸ“… Partner Since"
        name: "partnerSince"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "ğŸ“ˆ Referrals Received"
        name: "referralsReceived"
        widget: "number"
        default: 0
        min: 0
        
      - label: "ğŸ“¤ Referrals Sent"
        name: "referralsSent"
        widget: "number"
        default: 0
        min: 0
        
      - label: "ğŸ“Š Success Rate (%)"
        name: "successRate"
        widget: "number"
        default: 0
        min: 0
        max: 100
        hint: "Percentage of successful referrals"
        
      - label: "ğŸ“Š Status"
        name: "status"
        widget: "select"
        required: true
        options:
          - {label: "ğŸŸ¢ Active", value: "active"}
          - {label: "ğŸ”´ Inactive", value: "inactive"}
          - {label: "â­ Preferred", value: "preferred"}
        default: "active"
        
      - label: "ğŸ“ Notes"
        name: "notes"
        widget: "text"
        required: false
        
      - label: "ğŸ“… Last Referral"
        name: "lastReferral"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸ“… Next Contact"
        name: "nextContact"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: false
        
      - label: "ğŸ“… Created At"
        name: "createdAt"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: true
        
      - label: "ğŸ“… Updated At"
        name: "updatedAt"
        widget: "datetime"
        format: "YYYY-MM-DD"
        required: true